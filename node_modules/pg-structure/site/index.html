<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Get PostgreSQL database structure as a detailed JS Object.">
  <meta name="author" content="Özüm Eldoğan">
  <link rel="shortcut icon" href="./img/favicon.ico">
  <title>Home - pg-structure 3.5.15</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45732546-4', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> pg-structure 3.5.15</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href=".">Home</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#welcome-to-pg-structure">Welcome to pg-structure</a></li>
                
                    <li><a class="toctree-l4" href="#example">Example</a></li>
                
                    <li><a class="toctree-l4" href="#detailed-example">Detailed Example</a></li>
                
                    <li><a class="toctree-l4" href="#load-save-example">Load &amp; Save Example</a></li>
                
                    <li><a class="toctree-l4" href="#features">Features</a></li>
                
                    <li><a class="toctree-l4" href="#where-to-start">Where to Start?</a></li>
                
                    <li><a class="toctree-l4" href="#special-thanks">Special Thanks</a></li>
                
                    <li><a class="toctree-l4" href="#contributions">Contributions</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="concepts/">Concepts</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="examples/">Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="history/">History</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="license/">License</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="report/">Test & Coverage Report</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="relation-names/">Relation Names</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Column/">Column</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Constraint/">Constraint</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Db/">Db</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Index/">Index</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/M2MRelation/">M2M Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/M2ORelation/">M2O Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Map/">Map</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/O2MRelation/">O2M Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/PgStructure/">pgStructure</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Schema/">Schema</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="api/Table/">Table</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">pg-structure 3.5.15</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/ozum/pg-structure.git/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="welcome-to-pg-structure">Welcome to pg-structure</h1>
<p><strong>pg-structure</strong> is a Node.js library to get structure of a <a href="http://www.postgresql.org">PostgreSQL</a> database automatically as a detailed object.</p>
<table style="border:none; border-spacing: 10px; border-collapse: separate;">
    <tr>
        <td style="width:28%; padding:10px 10px 10px 10px; border:1px solid #CCCCCC; background:#EEEEEE;">
            <strong>Tested</strong><br>
            Every part of the library is tested.
        </td>
        <td style="width:28%; padding:10px 10px 10px 10px; border:1px solid #CCCCCC; background:#EEEEEE;">
            <strong>Documented</strong><br>
            Everything is documented, no hidden features.
        </td>
        <td style="width:28%; padding:10px 10px 10px 10px; border:1px solid #CCCCCC; background:#EEEEEE;">
            <strong>Utilitarian</strong><br>
            Beyond database objects (i.e. <a href="http://www.pg-structure.com/api/M2MRelation/">many to many relation</a>, <a href="http://www.pg-structure.com/concepts/">description data</a>).
        </td>
    </tr>
</table>

<p>pg-structure examines given PostgreSQL database by reverse engineering and lets you easily code, analyze, operate on PostgreSQL database structure by providing details about <a href="http://www.pg-structure.com/api/DB/">DB</a>, <a href="http://www.pg-structure.com/api/Schema/">Schema</a>, <a href="http://www.pg-structure.com/api/Table/">Table</a>, <a href="http://www.pg-structure.com/api/Column/">Column</a>, <a href="http://www.pg-structure.com/api/Constraint/">Constraint</a>, <a href="http://www.pg-structure.com/api/Relation/">Relation</a> and <a href="http://www.pg-structure.com/api/Index/">Index</a>.</p>
<p>Created object can be used to auto generate documentation or ORM models from database. It is much easier to work with JS object than working manually with database.</p>
<h2 id="example">Example</h2>
<pre><code>var pgStructure = require('pg-structure');

pgStructure({database: 'db', user: 'user', password: 'password'}, ['public', 'other_schema'])
    .then((db) =&gt; { console.log( db.get('public.account').columns.get('is_active').type ); })
    .catch(err =&gt; console.log(err.stack));
</code></pre>
<h2 id="detailed-example">Detailed Example</h2>
<pre><code>var pgStructure = require('pg-structure');

pgStructure({database: 'db', user: 'user', password: 'password', host: 'localhost', port: 5432}, ['public', 'other_schema'])
    .then((db) =&gt; {
        // Basic
        var tables = db.schemas.get('public').tables;  // Map of Table objects.

        // List of table names
        for (let table of tables.values()) {
            console.log(table.name);
        }

        // Long chain example for:
        // public schema -&gt; cart table -&gt; contact_id column -&gt; foreign key constraints of contact_id.
        var constraints = db.get('public.cart.contact_id').foreignKeyConstraints;
        var sameName = db.schemas.get('public').tables.get('cart').columns.get('contact_id').foreignKeyConstraints;

        // Many to many relation. Returns cart_line_item for cart --&lt; cart_line_item &gt;-- product
        var joinTable = [...db.get('public.cart').m2mRelations.values()][0].joinTable;    // See JS Map  on https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Map
    })
    .catch(err =&gt; console.log(err.stack));
</code></pre>
<h2 id="load-save-example">Load &amp; Save Example</h2>
<p>You can save reverse engineered database for later to load. If you use <code>.zip</code> extension, pg-structure automatically
compresses file as zip file. </p>
<pre><code>var pgStructure = require('pg-structure');

pgStructure({database: 'db', user: 'user', password: 'password', host: 'localhost', port: 5432}, ['public', 'other_schema'])
    .then(db =&gt; pgStructure.save('./db.zip', db))
    .catch(err =&gt; console.log(err.stack));
</code></pre>
<p>... Later, you can load pg-structure. Loading is 10 times faster than reverse engineering database.  </p>
<pre><code>var pgStructure = require('pg-structure');

pgStructure.load('./db.zip')
    .then(db =&gt; console.log(db.schemas.get('public').name))
    .catch(err =&gt; console.log(err.stack));
</code></pre>
<p><img src="http://www.pg-structure.com/images/warning-24.png" style="margin-left: -26px;"><strong>Caveat</strong>: pgStructure cannot
load files saved by incompatible pg-structure module versions and returns <code>undefined</code>. In this case you should
fetch structure from database and create a new save file.</p>
<h2 id="features">Features</h2>
<ul>
<li>Fully tested</li>
<li>Fully documented with JSDOC and HTML</li>
<li>Supports load, save, serialize, deserialize, toString, parse.</li>
<li>All PostgreSQL data types including array, JSON and HSTore</li>
<li>Support composite keys (Multiple field keys)</li>
<li>Schema support</li>
<li>Constraints (Primary Key, Foreign Key, Unique).</li>
<li>Supports multi-column constraints.</li>
<li>Identifies one to many (hasMany) relationships.</li>
<li>Identifies reverse of one to many (belongsTo) relationships</li>
<li>Identifies all possible many to many (belongs to many &amp; has many through) relationships</li>
<li>Objects can be accessed by name or by order. (Uses Map to save order and allow named access.)</li>
<li>Objects can be iterated via callbacks.</li>
<li>Allows to store and extract JSON data from Database objects. (See Description Data in <a href="http://www.pg-structure.com/concepts/">concepts</a>.)</li>
<li>Very detailed column meta data:<ul>
<li>Allow null</li>
<li>Description</li>
<li>Auto Increment</li>
<li>onUpdate</li>
<li>onDelete</li>
<li>etc. (Full details can be found in <a href="http://www.pg-structure.com/api/Column">Column</a> doc)</li>
</ul>
</li>
<li>Support for:<ul>
<li>DB</li>
<li>Schema</li>
<li>Table</li>
<li>Column</li>
<li>Constraint</li>
<li>Index</li>
<li>Relation</li>
</ul>
</li>
</ul>
<h2 id="where-to-start">Where to Start?</h2>
<p>First have look at <a href="http://localhost:63342/pg-structure3/site/concepts/">concepts</a> to understand a few key points.
You may want to read <a href="http://localhost:63342/pg-structure3/site/examples/">examples</a> to see how <strong>pg-structure</strong> can be used.
To start coding read main <a href="http://localhost:63342/pg-structure3/site/api/PgStructure/">pg-structure</a> module's documentation.
During development API references helps you.</p>
<h2 id="special-thanks">Special Thanks</h2>
<p><strong>pg-structure</strong> is developed under sponsorship of <a href="http://www.fortibase.com">Fortibase</a> and released as open source. See <a href="http://www.pg-structure.com/license/">license</a>.</p>
<p>Also documentation is auto generated thanks to:</p>
<ul>
<li><a href="http://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>.</li>
<li>Markdown is generated by <a href="https://www.npmjs.com/package/jsdoc-to-markdown">jsdoc-to-markdown</a></li>
</ul>
<h2 id="contributions">Contributions</h2>
<ul>
<li>For contribution please send pull requests with tests on <a href="https://github.com/ozum/pg-structure.git">GitHub</a>.</li>
<li>Send bugs and feature requests to <a href="https://github.com/ozum/pg-structure/issues">GitHub Issues</a>.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="concepts/" class="btn btn-neutral float-right" title="Concepts">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>© Özüm Eldoğan</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ozum/pg-structure.git" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="concepts/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="./js/theme.js"></script>

</body>
</html>

<!--
MkDocs version : 0.16.0
Build Date UTC : 2017-03-12 10:52:20
-->
